{"version":3,"file":"static/webpack/static\\development\\pages\\comments.js.3f5c53719c45421be286.hot-update.js","sources":["webpack:///./pages/comments.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport Layout from '../components/layout'\r\nimport Popup from \"reactjs-popup\"\r\n\r\n\r\nclass Commonts extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            comments: [],\r\n            editOne: null,\r\n            updatedComment: null\r\n        }\r\n    }\r\n\r\n    \r\n    componentDidMount() {\r\n        let {comments} = this.props;\r\n        this.setState({comments: comments});\r\n        \r\n    }  \r\n\r\n    updateComment(comment) {\r\n        this.setState({editOne : comment.id});\r\n    }\r\n\r\n    handleChange = (e, comment) => {\r\n        comment.body = e.target.value;\r\n        this.setState({updatedComment: comment});\r\n    }\r\n\r\n    submitComment = () => {  \r\n        this.setState({  editOne: null })\r\n     } \r\n\r\n    deleteComment = (e, comment, i) => {\r\n        const { comments } = this.state\r\n        console.log(comment.id)\r\n        comments.splice(i, 1);\r\n        this.setState({ comments })\r\n    } \r\n\r\n\r\n\r\n    static async getInitialProps(){\r\n        const res = await fetch('http://jsonplaceholder.typicode.com/comments');\r\n        const data = await res.json();\r\n        console.log(data)\r\n        return { comments: data }\r\n    \r\n    }\r\n\r\n    render() {\r\n        console.log(this.state.comments)\r\n        return (\r\n            <Layout>\r\n                \r\n                <div style={  {position : \"absolute\", width: \"300px\",height: \"120px\"}   }>\r\n                  { \r\n                    this.state.comments.length > 0 &&  this.state.comments.map((comment, i) => (\r\n                        <div key={i}> { comment.body } <div/>\r\n                    <Popup trigger={<button onClick={() => this.updateComment(comment)}>update</button>}\r\n                        position=\"right center\">\r\n                        <div>\r\n                            <textarea onChange={(e) => this.handleChange(e, comment)} style={  {padding: '40px'}  }>{comment.body}</textarea>\r\n                        </div>\r\n                        <button  onClick={this.submitComment }>save</button>\r\n                   </Popup>\r\n                     <button onClick={ (e) => this.deleteComment(e, comment, i) }> delete </button>\r\n                     </div>\r\n                     ))\r\n                 }\r\n                </div>\r\n                \r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Commonts"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAsBA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAzBA;AA2BA;AAAA;AAAA;AACA;AACA;AA7BA;AA8BA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAjCA;AACA;AACA;AACA;AAHA;AAHA;AAQA;AACA;;;AAEA;AAAA;AAEA;AAAA;AAAA;AAEA;;;AAEA;AACA;AAAA;AAAA;AACA;;;AA4BA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;AAiBA;;;;;;;;;;AA/BA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;AA7CA;AACA;AA0EA;;;;A","sourceRoot":""}